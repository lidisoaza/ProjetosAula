@model GarageStore.Models.User

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Editar Conta", "Edit","User",new { id =Model.UserID}, new { @class = "btn btn-primary" })  
    @Html.ActionLink("Detalhes da Conta", "Details","User", new { id = Model.UserID }, new { @class = "btn btn-primary" })
    @Html.ActionLink("Alterar a Senha", "Index", "Manage", routeValues: null, htmlAttributes: new { @class = "btn btn-primary" })
</p>
<div><img width="250" src="@Url.Action("GetImage", "User",new { id=Model.UserID})" /></div> 
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model=>model.Name)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.City)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.City)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.State)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.State)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Telephone)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Telephone)
        </dd>

    </dl>

    <h2>Meus Anúncios</h2>
    <p>
        @Html.ActionLink("Criar novo Anúncio", "Create", "Produto",null,new { idUser=Model.UserID}) 

    </p>
        <table class="table">
                <tr>
                    <th>
                        @Html.DisplayName("Anúncios")
                    </th>
                    <th>
                        @Html.DisplayName("Descrição")
                    </th>
                    <th>
                        @Html.DisplayName("Preço")
                    </th>
                    <th>
                        @Html.ActionLink("Data do Anúncio", "Anouccements", "User", new { orderBy = ViewBag.NameSortParm })

                    </th>
                </tr>

                @foreach (var item in Model.Produtos)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.TitleProduct)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Price)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.DateInput.Date)
                        </td>

                        <td>
                            @Html.ActionLink("Editar ", "Edit","Produto", new { id = item.ProdutoID }, new { @class = "btn btn-primary" }) |
                            @Html.ActionLink("Detalhe", "Details", "Produto", new { id = item.ProdutoID }, new { @class = "btn btn-primary" }) |
                            @Html.ActionLink("Deletar", "Delete","Produto", new { id = item.ProdutoID }, new { @class = "btn btn-primary" })
                        </td>
                    </tr>
                   
                }
      </table>
    @Html.ActionLink("Mais...", "Anouccements", "User", null, new { @class = "btn btn-primary" })